<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@tybys/aria2](./aria2.md) &gt; [ApiNamespaceAria2](./aria2.apinamespacearia2.md) &gt; [addMetalink](./aria2.apinamespacearia2.addmetalink.md)

## ApiNamespaceAria2.addMetalink() method

This method adds a Metalink download by uploading a ".metalink" file. metalink is a base64-encoded string which contains the contents of the ".metalink" file. options is a struct and its members are pairs of option name and value. See Options below for more details. If position is given, it must be an integer starting from 0. The new download will be inserted at position in the waiting queue. If position is omitted or position is larger than the current size of the queue, the new download is appended to the end of the queue. This method returns an array of GIDs of newly registered downloads. If `--rpc-save-upload-metadata` is `true`<!-- -->, the uploaded data is saved as a file named hex string of SHA-1 hash of data plus ".metalink" in the directory specified by `--dir` option. E.g. a file name might be 0a3893293e27ac0490424c06de4d09242215f0a6.metalink. If a file with the same name already exists, it is overwritten! If the file cannot be saved successfully or `--rpc-save-upload-metadata` is `false`<!-- -->, the downloads added by this method are not saved by `--save-session`<!-- -->.

<b>Signature:</b>

```typescript
addMetalink(metalink: string, options?: Aria2Option, position?: number): Promise<string[]>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  metalink | string | a base64-encoded string which contains the contents of the ".metalink" file |
|  options | [Aria2Option](./aria2.aria2option.md) | a struct and its members are pairs of option name and value |
|  position | number | an integer starting from 0 |

<b>Returns:</b>

Promise&lt;string\[\]&gt;

the GID of the newly registered download

